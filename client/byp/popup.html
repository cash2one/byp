<!DOCTYPE html>
<html>

  <head>
    <title>S.W.自助打包系统</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="static/css/main.css" type="text/css">
    <link rel="stylesheet" href="static/css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="static/css/bootstrap-combobox.css" type="text/css">
  </head>

<body>
  <!-- tab配置 -->
  <ul class="nav nav-pills">
      <li class="active">
        <a href="#tabMain" data-toggle="tab">Build</a>
      </li>
      <li>
        <a href="#tabTest" data-toggle="tab">Have a rest</a>
      </li>
      <li>
        <a href="#tabAbout" data-toggle="tab">About</a>
      </li>
    </ul>

  <!-- tab页面实现 -->
  <div id="main">

    <div class="tab-content">

      <!-- --------------------------------------------------------------------------------- -->

      <!-- 第一页 -->
      <div class="tab-pane active" id="tabMain">
        <!-- 功能选择表格 -->
        <table id="table-build-config">
          <tr><!-- build projects -->
            <td width="10%" rowspan="3">
              <a href="#" rel="tooltip" data-placement="right" title="选择想要打包的项目">
                <select id="ws-project-select" class="combobox-container" style="width:auto">
                </select>
              </a>
              <br>
              <button type="button" id="btn-build-default" class="btn btn-mini" class-toggle="btn-inverse">
                <a href="#" rel="tooltip" title="重置为服务器默认配置">Default</a>
              </button>
            </td>
            <td id="ws-sln-select-base">
            </td>
          </tr>
          <tr>
            <td id="ws-sln-select-middle">
            </td>
          </tr>
          <tr>
            <td id="ws-sln-select-module">
            </td>
          </tr>
          <tr><!-- build options -->
            <td class="td-form-title" rowspan="3">
              <a href="#" class="tooltip-build-options" rel="tooltip" title="可选的打包配置">打包选项</a>
              <button type="button" id="btn-options-default" class="btn btn-mini">
                <a href="#" rel="tooltip" title="重置为默认打包选项">Default</a>
              </button>
            </td>
            <td id="ws-build-options-before">
            </td>
          </tr>
          <tr>
            <td id="ws-build-options-build">
            </td>
          </tr>
          <tr>
            <td id="ws-build-options-after">
            </td>
          </tr>
        </table>

        <!-- --------------------------------------------------------------------------------- -->
        
        <!-- 打包原因及用户表格 -->
        <table id="table-build-info">
          <tr>
            <!-- why start the build -->
            <td class="td-form-title" width="12%">
              <a href="#" rel="tooltip" title="请简述出包原因[可选]">打包原因</a>
            </td>
            <td id="td-build-reason"><input id="ws-build-reason" type="text" data-provide="typeahead" data-items="4" data-source="[\"Daily Build\";\"Weekly Build\";\"RC Build\"]" value="简要描述为何打包[可选]"></td>
            <!-- user email -->
            <td class="td-form-title">
              <a href="#" rel="tooltip" title="您的百度邮箱地址[可选]">百度邮箱</a>
            </td>
            <td id="td-user-email"><input type="text" id="ws-user-email" data-provide="typeahead" data-items="4" data-source="[\"liuheng@baidu.com\"]" value="输入您的百度邮箱地址[可选]"></td>
          </tr>
        </table>

        <!-- --------------------------------------------------------------------------------- -->

        <!-- 基于那个版本打包表格 -->
        <table id="table-build-depend">
          <tr><!-- start this build depends on specific revision -->
            <td class="td-form-title" width="12%">
              <a href="#" rel="tooltip" title="指定打包所依赖的代码版本">构造版本</a>
            </td>
            <td>
              <div id="ws-code-base" class="btn-group" data-toggle="buttons-radio">
              </div>
            </td>
            <td id="td-cb-detail"><input type="text" id="ws-cb-detail" data-provide="typeahead" data-items="4" data-source="[\"HEAD\";\"Tag Name\";\"Branch Name\"]" value="版本构建细节[可选]"></td>
            <!-- start build button -->
            <td><button type="button" class="btn btn-small" id="ws-btn-build"><a href="#" rel="tooltip" title="配置完毕，现在干活吧！">Build!!</a></button></td>
          </tr>
        </table>
        
        <!-- --------------------------------------------------------------------------------- -->

        <!-- 进度条表格 -->
        <table id="table-progress-info">
          <tr>
            <td width="12%">
              <a href="#" rel="tooltip" title="当前打包任务的进度">打包进度</a>
            </td>
            <td width="75.6%">
              <br>
              <div class="progress progress-striped active">
                <div id="ws-build-progress" class="bar" style="width: 0%;"></div>
              </div>
            </td>
            <td>
              <span id="ws-build-progress-text" class="badge badge-info">0%</span>
            </td>
          </tr>
        </table>

        <!-- --------------------------------------------------------------------------------- -->

        <!-- 关键日志输出表格 -->
        <table id="table-build-log">
          <td>
            <div id="ws-build-log">

            </div>
          </td>
        </table><!-- inbox -->

        <!-- --------------------------------------------------------------------------------- -->

        <!-- 打包系统状态表格 -->
        <table id="table-status-info">
          <tr>
            <td id="worker-select" width="10%">
              <a href="#" rel="tooltip" title="选择编译机以查询其工作状态">
                <select id="ws-worker-select" class="combobox-container" style="width:auto">
                </select>
              </a>
            </td>
            <td width="15%"><span id="ws-worker-status" class="label label-warning"></span></td>
            <td><span id="ws-worker-detail" class="label label-warning"></span></td>
            <td>
              <div class="btn-toolbar">
                <div class="btn-group">
                  <button class="btn btn-mini">
                    <a id="ws-worker-running" href="#" rel="tooltip" title="正在干活的编译机数">0</a>
                  </button>
                  <button class="btn btn-mini">
                    <a id="ws-worker-idle" href="#" rel="tooltip" title="空闲的编译机数">0</a>
                  </button>
                  <button class="btn btn-mini">
                    <a id="ws-worker-error" href="#" rel="tooltip" title="打包出错的编译机数">0</a>
                  </button>
                </div>
              </div>
            </td>
          </tr>
        </table>

      </div><!-- tabMain -->

      <!-- --------------------------------------------------------------------------------- -->
      
      <!-- 第二页 -->
      <div class="tab-pane" id="tabTest">
        <embed src="static/file/cat.swf" allowFullScreen="true" quality="high" width="600" height="540" align="middle" allowScriptAccess="always" wmode="transparent" type="application/x-shockwave-flash"></embed>

        

      </div>

      <!-- --------------------------------------------------------------------------------- -->
      
      <!-- 第三页 -->
      <div class="tab-pane" id="tabAbout">
        
        <h2>Build Yourown Project</h2>
        <p>一个实时的自定义在线打包服务，内部使用。</p>
        <h2>Project details</h2>
        <ol>
        <li>
        <p>为纪念<a href="http://zh.asoiaf.wikia.com/wiki/%E5%86%B0%E4%B8%8E%E7%81%AB%E4%B9%8B%E6%AD%8C%E4%B8%AD%E6%96%87%E7%BB%B4%E5%9F%BA">冰火第三季</a>开播，以及更好的把精力投入到公共库的工作。</p>
        </li>
        <li>
        <p>支持极光和X光两个项目的各种打包需求。未来可以很容易的扩展，比如增加其他项目、更改操作系统平台、版本构建工具和版本控制方式等。</p>
        </li>
        <li>
        <p>client端基于<a href="https://en.wikipedia.org/wiki/Real-time_web">realtime web</a>，可实时同步编译机状态，用户界面UI基于<a href="http://twitter.github.io/bootstrap/">bootstrap</a>和<a href="http://jquery.com/">jquery</a>。支持chrome、safari等严格实现标准的浏览器（内网访问<a href="http://192.168.10.68:13412/">http://192.168.10.62:13412/</a>），支持firefox开发版、ios safari，推荐用chrome浏览，或以chrome插件形式使用。</p>
        </li>
        <li>
        <p>server端基于<a href="http://www.tornadoweb.org/">python tornado</a>框架，纯python编写，完全异步高并发，支持多用户，多台编译机同时部署和工作。</p>
        </li>
        <li>
        <p>worker端支持单机多份和多机方式部署，纯python编写，同时支持offline模式下的手动命令行方式工作。由于SVN集中式代码提交的局限性，目前仅提供一个worker。</p>
        </li>
        <li>
        <p>client端chrome插件提供更新机制，server端支持热更新，server和worker端都支持挂起自动重连，理论上可保持7X24小时不当机。</p>
        </li>
        <li>
        <p>为方便开发，代码托管在<a href="https://bitbucket.org/xfork">bitbucket</a>上：
        <code>$ git clone https://bitbucket.org/xfork/byp.git</code></p>
        </li>
        <li>图片资源、have a rest 中的小游戏基于网络。 </li>
        </ol>
        <h2></h2>
        <h1>Have fun!</h1>

      </div>

    </div><!-- tab-content -->
   
  </div><!-- main -->
  
  <script src="static/js/jquery-1.9.1.js" type="text/javascript"></script>
  <script src="static/js/bootstrap.js" type="text/javascript"></script>
  <script src="static/js/bootstrap-combobox.js" type="text/javascript"></script>
  <script src="static/js/main.js" type="text/javascript"></script>

</body>
</html>

